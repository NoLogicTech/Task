// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace TaskUltimate.Server.Componentes
{
    #line hidden
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\NoLogicTech\Documents\GitHub\Task\TaskUltimate.Server\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\NoLogicTech\Documents\GitHub\Task\TaskUltimate.Server\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\NoLogicTech\Documents\GitHub\Task\TaskUltimate.Server\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\NoLogicTech\Documents\GitHub\Task\TaskUltimate.Server\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\NoLogicTech\Documents\GitHub\Task\TaskUltimate.Server\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\NoLogicTech\Documents\GitHub\Task\TaskUltimate.Server\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\NoLogicTech\Documents\GitHub\Task\TaskUltimate.Server\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\NoLogicTech\Documents\GitHub\Task\TaskUltimate.Server\_Imports.razor"
using TaskUltimate.Server;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\NoLogicTech\Documents\GitHub\Task\TaskUltimate.Server\_Imports.razor"
using TaskUltimate.Server.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\NoLogicTech\Documents\GitHub\Task\TaskUltimate.Server\_Imports.razor"
using Radzen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\NoLogicTech\Documents\GitHub\Task\TaskUltimate.Server\_Imports.razor"
using Radzen.Blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\NoLogicTech\Documents\GitHub\Task\TaskUltimate.Server\_Imports.razor"
using TaskUltimateBibliotec;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\Users\NoLogicTech\Documents\GitHub\Task\TaskUltimate.Server\_Imports.razor"
using TaskUltimateBibliotec.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\Users\NoLogicTech\Documents\GitHub\Task\TaskUltimate.Server\_Imports.razor"
using TaskUltimate.Server.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "C:\Users\NoLogicTech\Documents\GitHub\Task\TaskUltimate.Server\_Imports.razor"
using TaskUltimate.Server.Pages;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "C:\Users\NoLogicTech\Documents\GitHub\Task\TaskUltimate.Server\_Imports.razor"
using TaskUltimate.Server.Componentes;

#line default
#line hidden
#nullable disable
#nullable restore
#line 18 "C:\Users\NoLogicTech\Documents\GitHub\Task\TaskUltimate.Server\_Imports.razor"
using System;

#line default
#line hidden
#nullable disable
    public partial class CardTarefa : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
        }
        #pragma warning restore 1998
#nullable restore
#line 103 "C:\Users\NoLogicTech\Documents\GitHub\Task\TaskUltimate.Server\Componentes\CardTarefa.razor"
       
    [Parameter]
    public Tarefa tarefa { get; set; } = new Tarefa();
    public Tarefa filho { get; set; } = new Tarefa();
    public List<Tarefa> filhos { get; set; } = new List<Tarefa>();
    private bool renderFilho { get; set; }

    public async Task Alterar()
    {
        await dialogService.OpenAsync<FormTarefa>("Modificar Tarefa", new Dictionary<string, object> { { "tarefa", tarefa }, { "Sub", true } }, new DialogOptions() { Style = "min-height:auto;min-width:auto;width:auto" });
        StateHasChanged();
    }
    public async Task Confirmar()
    {
            var result = await dialogService.OpenAsync("Simple Dialog", ds =>
        

#line default
#line hidden
#nullable disable
        (__builder2) => {
            __builder2.AddMarkupContent(0, @"<div>
            <p Style=""margin-bottom: 1rem"">Confirm?</p>
            <div class=""row"">
                <div class=""col-md-12"">
                    <RadzenButton Text=""Ok"" Click=""async () => { await Deletar();ds.Close(true); }"" Style=""margin-bottom: 10px; width: 150px""></RadzenButton>
                    <RadzenButton Text=""Cancel"" Click=""() => ds.Close(false)"" ButtonStyle=""ButtonStyle.Secondary"" Style=""margin-bottom: 10px; width: 150px""></RadzenButton>
                </div>
            </div>
        </div>");
        }
#nullable restore
#line 126 "C:\Users\NoLogicTech\Documents\GitHub\Task\TaskUltimate.Server\Componentes\CardTarefa.razor"
              , new DialogOptions() { Style = "min-height:auto;min-width:auto;width:auto" });
        StateHasChanged();
    }

    public async Task Deletar()
    {
      await apiService.apiTarefa.Delete(tarefa.TarefaId);
      StateHasChanged();
    }

    private async Task Atualizar()
    {
      await apiService.apiTarefa.PutAsync(tarefa.TarefaId, tarefa);
      StateHasChanged();
    }

    private async Task AdicionarFilho()
    {
      filho.UtilizadorIdatribuido = tarefa.UtilizadorIdatribuido;
      await dialogService.OpenAsync<FormTarefa>("Adicionar Filho", new Dictionary<string, object> { { "tarefa", filho }, { "Parente", tarefa }, { "Descendente", true } }, new DialogOptions() { Style = "min-height:auto;min-width:auto;width:auto" });
      StateHasChanged();
    }

    protected override async Task OnInitializedAsync()
    {
      if (tarefa.TarefaTemfilho)
          filhos = await apiService.apiTarefa.GetFilho(tarefa.TarefaId);
    }

    private void MostrarFilho()
    {
      if (renderFilho)
          renderFilho = false;
      else
          renderFilho = true;
    }

    public async Task OnDrop(Tarefa data)
    {
      data.ProjetoId = tarefa.ProjetoId;
      await apiService.apiTarefa.InsertAsync(data.TarefaId, tarefa.TarefaPosicao, data);
      // Important: Invoke StateHasChanged() to update the page
      StateHasChanged();
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private DialogService dialogService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private Apiservice apiService { get; set; }
    }
}
#pragma warning restore 1591
